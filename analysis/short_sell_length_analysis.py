# -*- coding: utf-8 -*-
import datetime
import matplotlib.pyplot as plt


def get_year_month_day(time_str):
    split_result = time_str.split("-")
    return int(split_result[0]), int(split_result[1]), int(split_result[2])


if __name__ == "__main__":
    data = [{'buy_price': 125.83499999999999,
      'buy_time': '2019-6-11',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 168.13200000000001,
      'short_fees': 0.46063561643835615,
      'signal/sell_time': '2019-6-10',
      'stock_symbol': 'BYND',
      'stop_loss': False},
     {'buy_price': 30.399999999999999,
      'buy_time': '2016-5-2',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 51.600000000000001,
      'short_fees': 0.14136986301369864,
      'signal/sell_time': '2016-4-29',
      'stock_symbol': 'GLBS',
      'stop_loss': False},
     {'buy_price': 18.0,
      'buy_time': '2016-5-26',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 24.399999999999999,
      'short_fees': 0.26739726027397259,
      'signal/sell_time': '2016-5-20',
      'stock_symbol': 'GLBS',
      'stop_loss': False},
     {'buy_price': 142.19999999999999,
      'buy_time': '2016-11-16',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 49.130000000000003,
      'short_fees': 0.1346027397260274,
      'signal/sell_time': '2016-11-15',
      'stock_symbol': 'GLBS',
      'stop_loss': True},
     {'buy_price': 66.700000000000003,
      'buy_time': '2016-12-7',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 68.0,
      'short_fees': 0.93150684931506844,
      'signal/sell_time': '2016-11-30',
      'stock_symbol': 'GLBS',
      'stop_loss': False},
     {'buy_price': 11.59,
      'buy_time': '2017-11-8',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 19.050000000000001,
      'short_fees': 0.052191780821917812,
      'signal/sell_time': '2017-11-7',
      'stock_symbol': 'GLBS',
      'stop_loss': False},
     {'buy_price': 15.541,
      'buy_time': '2017-11-27',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 23.506,
      'short_fees': 0.064399999999999999,
      'signal/sell_time': '2017-11-24',
      'stock_symbol': 'RIOT',
      'stop_loss': False},
     {'buy_price': 35.994999999999997,
      'buy_time': '2017-12-18',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 28.18,
      'short_fees': 0.30882191780821916,
      'signal/sell_time': '2017-12-12',
      'stock_symbol': 'RIOT',
      'stop_loss': True},
     {'buy_price': 15.01,
      'buy_time': '2019-6-3',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 20.289999999999999,
      'short_fees': 0.16676712328767121,
      'signal/sell_time': '2019-5-29',
      'stock_symbol': 'SOLY',
      'stop_loss': False},
     {'buy_price': 19.489999999999998,
      'buy_time': '2017-12-29',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 31.559999999999999,
      'short_fees': 0.086465753424657538,
      'signal/sell_time': '2017-12-28',
      'stock_symbol': 'WATT',
      'stop_loss': False},
     {'buy_price': 19.84,
      'buy_time': '2016-11-17',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 16.0,
      'short_fees': 0.043835616438356165,
      'signal/sell_time': '2016-11-16',
      'stock_symbol': 'GSL',
      'stop_loss': True},
     {'buy_price': 139.19999999999999,
      'buy_time': '2016-5-4',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 180.0,
      'short_fees': 0.49315068493150688,
      'signal/sell_time': '2016-5-3',
      'stock_symbol': 'VISL',
      'stop_loss': False},
     {'buy_price': 383.60000000000002,
      'buy_time': '2016-6-8',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 240.0,
      'short_fees': 0.65753424657534243,
      'signal/sell_time': '2016-6-7',
      'stock_symbol': 'GEVO',
      'stop_loss': True},
     {'buy_price': 49.200000000000003,
      'buy_time': '2015-8-3',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 38.0,
      'short_fees': 0.10410958904109589,
      'signal/sell_time': '2015-7-31',
      'stock_symbol': 'NETE',
      'stop_loss': True},
     {'buy_price': 23.699999999999999,
      'buy_time': '2015-11-30',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 14.1,
      'short_fees': 0.077260273972602739,
      'signal/sell_time': '2015-11-25',
      'stock_symbol': 'NETE',
      'stop_loss': True},
     {'buy_price': 25.0,
      'buy_time': '2015-12-2',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 41.799999999999997,
      'short_fees': 0.11452054794520547,
      'signal/sell_time': '2015-12-1',
      'stock_symbol': 'NETE',
      'stop_loss': False},
     {'buy_price': 8.7050000000000001,
      'buy_time': '2018-5-17',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 11.779999999999999,
      'short_fees': 0.096821917808219166,
      'signal/sell_time': '2018-5-14',
      'stock_symbol': 'BOXL',
      'stop_loss': False},
     {'buy_price': 11.550000000000001,
      'buy_time': '2016-3-7',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 9.1999999999999993,
      'short_fees': 0.07561643835616437,
      'signal/sell_time': '2016-3-2',
      'stock_symbol': 'LXU',
      'stop_loss': True},
     {'buy_price': 26.879999999999999,
      'buy_time': '2016-8-8',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 37.332000000000001,
      'short_fees': 0.10227945205479452,
      'signal/sell_time': '2016-8-5',
      'stock_symbol': 'CHEK',
      'stop_loss': False},
     {'buy_price': 3181.5050000000001,
      'buy_time': '2015-11-4',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 4042.5059999999999,
      'short_fees': 44.301435616438354,
      'signal/sell_time': '2015-10-29',
      'stock_symbol': 'JAGX',
      'stop_loss': False},
     {'buy_price': 3423.0050000000001,
      'buy_time': '2016-1-14',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 4525.5060000000003,
      'short_fees': 12.398646575342466,
      'signal/sell_time': '2016-1-13',
      'stock_symbol': 'JAGX',
      'stop_loss': False},
     {'buy_price': 125.0,
      'buy_time': '2017-1-13',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 160.65000000000001,
      'short_fees': 0.88027397260273976,
      'signal/sell_time': '2017-1-11',
      'stock_symbol': 'WWR',
      'stop_loss': False},
     {'buy_price': 35.119999999999997,
      'buy_time': '2018-3-20',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 34.049999999999997,
      'short_fees': 0.46643835616438351,
      'signal/sell_time': '2018-3-13',
      'stock_symbol': 'BXC',
      'stop_loss': False},
     {'buy_price': 39.799999999999997,
      'buy_time': '2016-3-8',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 61.399999999999999,
      'short_fees': 0.16821917808219178,
      'signal/sell_time': '2016-3-7',
      'stock_symbol': 'EGLE',
      'stop_loss': False},
     {'buy_price': 13.9,
      'buy_time': '2016-4-12',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 18.399999999999999,
      'short_fees': 0.050410958904109585,
      'signal/sell_time': '2016-4-11',
      'stock_symbol': 'EGLE',
      'stop_loss': False},
     {'buy_price': 20.337,
      'buy_time': '2017-1-26',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 20.609999999999999,
      'short_fees': 0.28232876712328764,
      'signal/sell_time': '2017-1-19',
      'stock_symbol': 'GRVY',
      'stop_loss': False},
     {'buy_price': 126.8,
      'buy_time': '2016-7-18',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 166.0,
      'short_fees': 0.45479452054794522,
      'signal/sell_time': '2016-7-15',
      'stock_symbol': 'OPTT',
      'stop_loss': False},
     {'buy_price': 186.19999999999999,
      'buy_time': '2016-7-21',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 278.0,
      'short_fees': 0.76164383561643834,
      'signal/sell_time': '2016-7-20',
      'stock_symbol': 'OPTT',
      'stop_loss': False},
     {'buy_price': 91.060000000000002,
      'buy_time': '2019-1-11',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 160.09999999999999,
      'short_fees': 0.87726027397260276,
      'signal/sell_time': '2019-1-9',
      'stock_symbol': 'PHUN',
      'stop_loss': False},
     {'buy_price': 230.0,
      'buy_time': '2019-2-5',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 297.80000000000001,
      'short_fees': 2.4476712328767123,
      'signal/sell_time': '2019-1-31',
      'stock_symbol': 'PHUN',
      'stop_loss': False},
     {'buy_price': 416.75,
      'buy_time': '2015-12-23',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 346.25,
      'short_fees': 2.845890410958904,
      'signal/sell_time': '2015-12-18',
      'stock_symbol': 'RWLK',
      'stop_loss': True},
     {'buy_price': 53.75,
      'buy_time': '2017-6-27',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 75.0,
      'short_fees': 0.20547945205479451,
      'signal/sell_time': '2017-6-26',
      'stock_symbol': 'RWLK',
      'stop_loss': False},
     {'buy_price': 33.119999999999997,
      'buy_time': '2019-4-12',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 28.199999999999999,
      'short_fees': 0.30904109589041096,
      'signal/sell_time': '2019-4-8',
      'stock_symbol': 'IMUX',
      'stop_loss': False},
     {'buy_price': 52.200000000000003,
      'buy_time': '2017-2-1',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 70.0,
      'short_fees': 0.95890410958904104,
      'signal/sell_time': '2017-1-25',
      'stock_symbol': 'MOSY',
      'stop_loss': False},
     {'buy_price': 28.0,
      'buy_time': '2017-6-8',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 36.399999999999999,
      'short_fees': 0.099726027397260275,
      'signal/sell_time': '2017-6-7',
      'stock_symbol': 'MOSY',
      'stop_loss': False},
     {'buy_price': 27.5,
      'buy_time': '2018-6-14',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 16.219000000000001,
      'short_fees': 0.044435616438356168,
      'signal/sell_time': '2018-6-13',
      'stock_symbol': 'AGMH',
      'stop_loss': True},
     {'buy_price': 282.19900000000001,
      'buy_time': '2016-11-30',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 319.25599999999997,
      'short_fees': 4.3733698630136981,
      'signal/sell_time': '2016-11-22',
      'stock_symbol': 'BAS',
      'stop_loss': False},
     {'buy_price': 11.723000000000001,
      'buy_time': '2018-12-13',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 15.058999999999999,
      'short_fees': 0.16503013698630137,
      'signal/sell_time': '2018-12-7',
      'stock_symbol': 'SCU',
      'stop_loss': False},
     {'buy_price': 14508000.0,
      'buy_time': '2016-7-22',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 11628000.0,
      'short_fees': 31857.534246575342,
      'signal/sell_time': '2016-7-21',
      'stock_symbol': 'TOPS',
      'stop_loss': True},
     {'buy_price': 13752000.0,
      'buy_time': '2016-11-18',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 19346400.0,
      'short_fees': 159011.50684931505,
      'signal/sell_time': '2016-11-15',
      'stock_symbol': 'TOPS',
      'stop_loss': False},
     {'buy_price': 3960.0,
      'buy_time': '2017-7-26',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 5280.0,
      'short_fees': 28.93150684931507,
      'signal/sell_time': '2017-7-24',
      'stock_symbol': 'TOPS',
      'stop_loss': False},
     {'buy_price': 104.0,
      'buy_time': '2017-10-27',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 134.0,
      'short_fees': 0.36712328767123287,
      'signal/sell_time': '2017-10-26',
      'stock_symbol': 'TOPS',
      'stop_loss': False},
     {'buy_price': 464.0,
      'buy_time': '2017-11-7',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 336.0,
      'short_fees': 0.92054794520547945,
      'signal/sell_time': '2017-11-6',
      'stock_symbol': 'TOPS',
      'stop_loss': True},
     {'buy_price': 87.590000000000003,
      'buy_time': '2019-8-13',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 79.400000000000006,
      'short_fees': 1.0876712328767124,
      'signal/sell_time': '2019-8-6',
      'stock_symbol': 'ALLK',
      'stop_loss': False},
     {'buy_price': 44.939999999999998,
      'buy_time': '2015-9-22',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 58.759999999999998,
      'short_fees': 0.48295890410958897,
      'signal/sell_time': '2015-9-17',
      'stock_symbol': 'ITCI',
      'stop_loss': False},
     {'buy_price': 8.0999999999999996,
      'buy_time': '2016-4-19',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 9.1999999999999993,
      'short_fees': 0.12602739726027395,
      'signal/sell_time': '2016-4-12',
      'stock_symbol': 'MNKD',
      'stop_loss': False},
     {'buy_price': 14.0,
      'buy_time': '2018-11-7',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 14.859999999999999,
      'short_fees': 0.20356164383561642,
      'signal/sell_time': '2018-10-31',
      'stock_symbol': 'VCYT',
      'stop_loss': False},
     {'buy_price': 123.20999999999999,
      'buy_time': '2018-9-21',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 217.75,
      'short_fees': 1.1931506849315068,
      'signal/sell_time': '2018-9-19',
      'stock_symbol': 'TLRY',
      'stop_loss': False},
     {'buy_price': 15.369999999999999,
      'buy_time': '2017-10-27',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 19.280000000000001,
      'short_fees': 0.26410958904109588,
      'signal/sell_time': '2017-10-20',
      'stock_symbol': 'QURE',
      'stop_loss': False},
     {'buy_price': 26.559999999999999,
      'buy_time': '2016-11-22',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 23.390000000000001,
      'short_fees': 0.32041095890410959,
      'signal/sell_time': '2016-11-15',
      'stock_symbol': 'AIRG',
      'stop_loss': False},
     {'buy_price': 13.74,
      'buy_time': '2017-9-13',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 17.678000000000001,
      'short_fees': 0.1452986301369863,
      'signal/sell_time': '2017-9-8',
      'stock_symbol': 'NLNK',
      'stop_loss': False},
     {'buy_price': 16.68,
      'buy_time': '2015-10-27',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 18.25,
      'short_fees': 0.25,
      'signal/sell_time': '2015-10-20',
      'stock_symbol': 'WW',
      'stop_loss': False},
     {'buy_price': 11.550000000000001,
      'buy_time': '2016-1-25',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 15.6,
      'short_fees': 0.042739726027397257,
      'signal/sell_time': '2016-1-22',
      'stock_symbol': 'CRC',
      'stop_loss': False},
     {'buy_price': 17.399999999999999,
      'buy_time': '2016-3-11',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 17.600000000000001,
      'short_fees': 0.24109589041095891,
      'signal/sell_time': '2016-3-4',
      'stock_symbol': 'CRC',
      'stop_loss': False},
     {'buy_price': 2959.1999999999998,
      'buy_time': '2015-6-29',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 3774.5999999999999,
      'short_fees': 51.706849315068489,
      'signal/sell_time': '2015-6-22',
      'stock_symbol': 'SINT',
      'stop_loss': False},
     {'buy_price': 1056.96,
      'buy_time': '2016-2-4',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 1119.5999999999999,
      'short_fees': 15.33698630136986,
      'signal/sell_time': '2016-1-28',
      'stock_symbol': 'SINT',
      'stop_loss': False},
     {'buy_price': 9.5999999999999996,
      'buy_time': '2018-10-22',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 11.550000000000001,
      'short_fees': 0.15821917808219177,
      'signal/sell_time': '2018-10-15',
      'stock_symbol': 'SINT',
      'stop_loss': False},
     {'buy_price': 13.9,
      'buy_time': '2019-1-8',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 11.119999999999999,
      'short_fees': 0.030465753424657533,
      'signal/sell_time': '2019-1-7',
      'stock_symbol': 'PIR',
      'stop_loss': True},
     {'buy_price': 118.8,
      'buy_time': '2016-2-17',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 94.680000000000007,
      'short_fees': 0.25939726027397264,
      'signal/sell_time': '2016-2-16',
      'stock_symbol': 'ATOS',
      'stop_loss': True},
     {'buy_price': 7.3319999999999999,
      'buy_time': '2017-9-14',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 9.2400000000000002,
      'short_fees': 0.050630136986301373,
      'signal/sell_time': '2017-9-12',
      'stock_symbol': 'ATOS',
      'stop_loss': False},
     {'buy_price': 9.9600000000000009,
      'buy_time': '2017-10-25',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 14.544,
      'short_fees': 0.039846575342465752,
      'signal/sell_time': '2017-10-24',
      'stock_symbol': 'ATOS',
      'stop_loss': False},
     {'buy_price': 14.0,
      'buy_time': '2018-11-30',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 14.813000000000001,
      'short_fees': 0.20291780821917807,
      'signal/sell_time': '2018-11-23',
      'stock_symbol': 'GMDA',
      'stop_loss': False},
     {'buy_price': 25.25,
      'buy_time': '2018-9-5',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 58.030000000000001,
      'short_fees': 0.15898630136986303,
      'signal/sell_time': '2018-9-4',
      'stock_symbol': 'AMTB',
      'stop_loss': False},
     {'buy_price': 15.98,
      'buy_time': '2018-5-18',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 16.030000000000001,
      'short_fees': 0.21958904109589042,
      'signal/sell_time': '2018-5-11',
      'stock_symbol': 'HEAR',
      'stop_loss': False},
     {'buy_price': 8.1799999999999997,
      'buy_time': '2015-11-13',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 8.1999999999999993,
      'short_fees': 0.11232876712328765,
      'signal/sell_time': '2015-11-6',
      'stock_symbol': 'CSTM',
      'stop_loss': False},
     {'buy_price': 14.4,
      'buy_time': '2016-3-14',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 15.800000000000001,
      'short_fees': 0.21643835616438356,
      'signal/sell_time': '2016-3-7',
      'stock_symbol': 'NM',
      'stop_loss': False},
     {'buy_price': 12.5,
      'buy_time': '2016-3-7',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 9.6199999999999992,
      'short_fees': 0.052712328767123284,
      'signal/sell_time': '2016-3-3',
      'stock_symbol': 'UNT',
      'stop_loss': True},
     {'buy_price': 24.5,
      'buy_time': '2015-11-6',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 37.0,
      'short_fees': 0.30410958904109586,
      'signal/sell_time': '2015-11-3',
      'stock_symbol': 'XOMA',
      'stop_loss': False},
     {'buy_price': 2417611.9019999998,
      'buy_time': '2015-12-28',
      'close_type': 'stop_loss',
      'price_drop_as_expected': False,
      'sell_price': 1859701.463,
      'short_fees': 5095.0725013698629,
      'signal/sell_time': '2015-12-24',
      'stock_symbol': 'DRYS',
      'stop_loss': True},
     {'buy_price': 1076669.2679999999,
      'buy_time': '2016-5-5',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 1448218.044,
      'short_fees': 19838.603342465751,
      'signal/sell_time': '2016-4-28',
      'stock_symbol': 'DRYS',
      'stop_loss': False},
     {'buy_price': 71190.676999999996,
      'buy_time': '2016-11-17',
      'close_type': 'ds_t0_close',
      'price_drop_as_expected': True,
      'sell_price': 476997.11200000002,
      'short_fees': 2613.6828054794523,
      'signal/sell_time': '2016-11-15',
      'stock_symbol': 'DRYS',
      'stop_loss': False},
     {'buy_price': 3933.105,
      'buy_time': '2017-2-7',
      'close_type': 'time_up',
      'price_drop_as_expected': False,
      'sell_price': 4119.076,
      'short_fees': 56.425698630136985,
      'signal/sell_time': '2017-1-31',
      'stock_symbol': 'DRYS',
      'stop_loss': False}]

    start = datetime.datetime(2019, 9, 24)

    profit_holding_days = []
    loss_holding_days = []
    for one_record in data:
        sell_price = one_record.get("sell_price")
        buy_price = one_record.get("buy_price")
        sell_date = one_record.get('signal/sell_time')
        buy_date = one_record.get("buy_time")
        sell_year, sell_month, sell_day = get_year_month_day(sell_date)
        buy_year, buy_month, buy_day = get_year_month_day(buy_date)
        sell_datetime = datetime.date(sell_year, sell_month, sell_day)
        buy_datetime = datetime.date(buy_year, buy_month, buy_day)

        delta = buy_datetime - sell_datetime
        if buy_price < sell_price:
            profit_holding_days.append(delta.days)
        else:
            loss_holding_days.append(delta.days)
    print(sum(profit_holding_days)/len(profit_holding_days))
    print(sum(loss_holding_days)/len(loss_holding_days))

    #np.histogram(profit_holding_days, bins=list(range(1, 11))).plot()

    plt.hist(profit_holding_days)
    plt.show()

    plt.hist(loss_holding_days)
    plt.show()
